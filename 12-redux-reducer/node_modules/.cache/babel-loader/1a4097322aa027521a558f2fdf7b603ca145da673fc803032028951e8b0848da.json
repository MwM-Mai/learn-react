{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\86188\\\\Desktop\\\\code-react\\\\10-reacte-redux\\\\src\\\\utils\\\\connect.js\";\nimport React, { PureComponent } from 'react';\nimport { storeContext } from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function connect(mapStateToProps, mapDispatchToProps) {\n  return function enhanceHOC(WarpperComponent) {\n    class EnhanceComponent extends PureComponent {\n      constructor(props) {\n        super(props);\n        this.state = {\n          storeState: mapStateToProps(store.getState())\n        };\n      }\n      componentDidMount() {\n        this.unsubscribe = this.context.subscribe(() => {\n          this.setState({\n            storeState: mapDispatchToProps(this.context.getState())\n          });\n        });\n      }\n      componentWillUnmount() {\n        this.unsubscribe();\n      }\n      render() {\n        return /*#__PURE__*/_jsxDEV(WarpperComponent, {\n          ...this.props,\n          ...mapStateToProps(this.context.getState()),\n          ...mapDispatchToProps(this.context.dispatch)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 16\n        }, this);\n      }\n    }\n    EnhanceComponent.contextType = storeContext; // 在 contexType 进行赋值的时候 会向 constructor()(构造函数) 传 context 这个参数\n\n    return EnhanceComponent;\n  };\n}","map":{"version":3,"names":["React","PureComponent","storeContext","jsxDEV","_jsxDEV","connect","mapStateToProps","mapDispatchToProps","enhanceHOC","WarpperComponent","EnhanceComponent","constructor","props","state","storeState","store","getState","componentDidMount","unsubscribe","context","subscribe","setState","componentWillUnmount","render","dispatch","fileName","_jsxFileName","lineNumber","columnNumber","contextType"],"sources":["C:/Users/86188/Desktop/code-react/10-reacte-redux/src/utils/connect.js"],"sourcesContent":["import React, { PureComponent } from 'react'\r\n\r\nimport { storeContext } from './context'\r\n\r\nexport function connect(mapStateToProps, mapDispatchToProps) {\r\n  return function enhanceHOC(WarpperComponent) {\r\n    class EnhanceComponent extends PureComponent {\r\n      constructor (props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n          storeState: mapStateToProps(store.getState())\r\n        }\r\n      }\r\n\r\n      componentDidMount() {\r\n        this.unsubscribe = this.context.subscribe(() => {\r\n          this.setState({\r\n            storeState: mapDispatchToProps(this.context.getState())\r\n          })\r\n        })\r\n      }\r\n\r\n      componentWillUnmount() {\r\n        this.unsubscribe()\r\n      }\r\n\r\n      render() {\r\n        return <WarpperComponent {...this.props}\r\n          {...mapStateToProps(this.context.getState())}\r\n          {...mapDispatchToProps(this.context.dispatch)} />\r\n      }\r\n    }\r\n\r\n    EnhanceComponent.contextType = storeContext // 在 contexType 进行赋值的时候 会向 constructor()(构造函数) 传 context 这个参数\r\n\r\n    return EnhanceComponent\r\n  }\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAE5C,SAASC,YAAY,QAAQ,WAAW;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAExC,OAAO,SAASC,OAAOA,CAACC,eAAe,EAAEC,kBAAkB,EAAE;EAC3D,OAAO,SAASC,UAAUA,CAACC,gBAAgB,EAAE;IAC3C,MAAMC,gBAAgB,SAAST,aAAa,CAAC;MAC3CU,WAAWA,CAAEC,KAAK,EAAE;QAClB,KAAK,CAACA,KAAK,CAAC;QAEZ,IAAI,CAACC,KAAK,GAAG;UACXC,UAAU,EAAER,eAAe,CAACS,KAAK,CAACC,QAAQ,EAAE;QAC9C,CAAC;MACH;MAEAC,iBAAiBA,CAAA,EAAG;QAClB,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,OAAO,CAACC,SAAS,CAAC,MAAM;UAC9C,IAAI,CAACC,QAAQ,CAAC;YACZP,UAAU,EAAEP,kBAAkB,CAAC,IAAI,CAACY,OAAO,CAACH,QAAQ,EAAE;UACxD,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;MAEAM,oBAAoBA,CAAA,EAAG;QACrB,IAAI,CAACJ,WAAW,EAAE;MACpB;MAEAK,MAAMA,CAAA,EAAG;QACP,oBAAOnB,OAAA,CAACK,gBAAgB;UAAA,GAAK,IAAI,CAACG,KAAK;UAAA,GACjCN,eAAe,CAAC,IAAI,CAACa,OAAO,CAACH,QAAQ,EAAE,CAAC;UAAA,GACxCT,kBAAkB,CAAC,IAAI,CAACY,OAAO,CAACK,QAAQ;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAI;MACrD;IACF;IAEAlB,gBAAgB,CAACmB,WAAW,GAAG3B,YAAY,EAAC;;IAE5C,OAAOQ,gBAAgB;EACzB,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}