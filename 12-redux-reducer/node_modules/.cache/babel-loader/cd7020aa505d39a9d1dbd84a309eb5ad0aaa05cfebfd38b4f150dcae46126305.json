{"ast":null,"code":"// export default 生成器函数\n\n// takeEvery(类型， 生成器函数(写逻辑代码))\nimport { takeEvery, put, all } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { FETCH_HOME_MULTIDATA } from './home/constants';\nimport { changeBannerAction, changeRecommendAction } from './home/actionCreators';\n\n// 2.\nfunction* fetchHomeMultidata(action) {\n  const res = yield axios.get(\"http://123.207.32.32:8000/home/multidata\");\n  console.log(res);\n  const banners = res.data.data.banner.list;\n  const recommend = res.data.data.recommend.list;\n\n  // yield put(changeBannerAction(banners))\n  // yield put(changeRecommendAction(recommend))\n  yield all([yield put(changeBannerAction(banners)), yield put(changeRecommendAction(recommend))]);\n}\n\n// 1.\nfunction* mySaga() {\n  // takeEvery takeLatest 区别\n  // takeEvery 依次只能监听一个对应的action(只监听最后一个对应的action)\n  // takeLatest 每个都会被执行\n  yield takeEvery(FETCH_HOME_MULTIDATA, fetchHomeMultidata);\n}\nexport default mySaga;","map":{"version":3,"names":["takeEvery","put","all","axios","FETCH_HOME_MULTIDATA","changeBannerAction","changeRecommendAction","fetchHomeMultidata","action","res","get","console","log","banners","data","banner","list","recommend","mySaga"],"sources":["C:/Users/86188/Desktop/code-react/12-redux-reducer/src/store/saga.js"],"sourcesContent":["// export default 生成器函数\r\n\r\n// takeEvery(类型， 生成器函数(写逻辑代码))\r\nimport { takeEvery, put, all } from 'redux-saga/effects'\r\n\r\nimport axios from 'axios'\r\n\r\nimport { FETCH_HOME_MULTIDATA } from './home/constants'\r\nimport { changeBannerAction, changeRecommendAction } from './home/actionCreators'\r\n\r\n// 2.\r\nfunction* fetchHomeMultidata(action) {\r\n  const res = yield axios.get(\"http://123.207.32.32:8000/home/multidata\")\r\n  console.log(res);\r\n\r\n  const banners = res.data.data.banner.list\r\n  const recommend = res.data.data.recommend.list\r\n\r\n  // yield put(changeBannerAction(banners))\r\n  // yield put(changeRecommendAction(recommend))\r\n  yield all([\r\n    yield put(changeBannerAction(banners)),\r\n    yield put(changeRecommendAction(recommend))\r\n  ])\r\n}\r\n\r\n// 1.\r\nfunction* mySaga() {\r\n  // takeEvery takeLatest 区别\r\n  // takeEvery 依次只能监听一个对应的action(只监听最后一个对应的action)\r\n  // takeLatest 每个都会被执行\r\n  yield takeEvery(FETCH_HOME_MULTIDATA, fetchHomeMultidata)\r\n}\r\n\r\n\r\nexport default mySaga"],"mappings":"AAAA;;AAEA;AACA,SAASA,SAAS,EAAEC,GAAG,EAAEC,GAAG,QAAQ,oBAAoB;AAExD,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,oBAAoB,QAAQ,kBAAkB;AACvD,SAASC,kBAAkB,EAAEC,qBAAqB,QAAQ,uBAAuB;;AAEjF;AACA,UAAUC,kBAAkBA,CAACC,MAAM,EAAE;EACnC,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,0CAA0C,CAAC;EACvEC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;EAEhB,MAAMI,OAAO,GAAGJ,GAAG,CAACK,IAAI,CAACA,IAAI,CAACC,MAAM,CAACC,IAAI;EACzC,MAAMC,SAAS,GAAGR,GAAG,CAACK,IAAI,CAACA,IAAI,CAACG,SAAS,CAACD,IAAI;;EAE9C;EACA;EACA,MAAMd,GAAG,CAAC,CACR,MAAMD,GAAG,CAACI,kBAAkB,CAACQ,OAAO,CAAC,CAAC,EACtC,MAAMZ,GAAG,CAACK,qBAAqB,CAACW,SAAS,CAAC,CAAC,CAC5C,CAAC;AACJ;;AAEA;AACA,UAAUC,MAAMA,CAAA,EAAG;EACjB;EACA;EACA;EACA,MAAMlB,SAAS,CAACI,oBAAoB,EAAEG,kBAAkB,CAAC;AAC3D;AAGA,eAAeW,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}